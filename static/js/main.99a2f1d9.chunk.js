(this.webpackJsonploop_machine=this.webpackJsonploop_machine||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var s=n(2),o=n.n(s),a=n(13),c=n.n(a),u=(n(19),n(4)),r=n(5),i=n(11),l=(n(20),n(12),n(14)),d=n(3),m=n(1),j=[{keyCode:81,key:"Q",id:"Future Beats",status:!1,url:"sounds/future_beats.mp3",imgClass:d.e},{keyCode:87,key:"W",id:"Electric Guitar",status:!1,url:"sounds/electric_guitar_120.mp3",imgClass:d.c},{keyCode:69,key:"E",id:"Groove",status:!1,url:"sounds/groove_120.mp3",imgClass:d.b},{keyCode:65,key:"A",id:"Heavy Funk",status:!1,url:"sounds/heavyfunk_120.mp3",imgClass:d.f},{keyCode:83,key:"S",id:"Maze Politics",status:!1,url:"sounds/mazepolitics_120.mp3",imgClass:d.i},{keyCode:68,key:"D",id:"Pass Groove",status:!1,url:"sounds/passgroove.mp3",imgClass:d.d},{keyCode:90,key:"Z",id:"Silent Star",status:!1,url:"sounds/silentstar_120.mp3",imgClass:d.g},{keyCode:88,key:"X",id:"Stompy Slosh",status:!1,url:"sounds/stompyslosh_120.mp3",imgClass:d.h},{keyCode:67,key:"C",id:"Stutter Breakbeats",status:!1,url:"sounds/stutter_breakbeats.mp3",imgClass:d.a}],p=function(e){var t=e.play,n=e.sound,s=n.key,a=n.url,c=n.keyCode,u=n.id,r=n.status,i=n.imgClass,d=function(e){e.keyCode===c&&t(s,u,r)};return o.a.useEffect((function(){document.addEventListener("keydown",d)}),[s,u,r]),Object(m.jsxs)("button",{id:c,className:"instrument",onClick:function(){t(s,u,r)},children:[Object(m.jsx)("audio",{loop:!0,className:"clip",id:s,src:a,type:"audio/mp3"}),Object(m.jsx)(l.a,{icon:i})]})},f=function(e){var t=e.power,n=e.play,s=e.sounds;return Object(m.jsx)("div",{className:"keyboard",children:t?j.map((function(e){return Object(m.jsx)(p,{play:n,sound:e,sounds:s})})):j.map((function(e){return Object(m.jsx)(p,{play:n,sound:Object(i.a)(Object(i.a)({},e),{},{url:"#"})})}))})},b=function(e){var t=e.name,n=e.volume,s=e.power,o=e.stopLoops,a=e.handleVolumeChange;return Object(m.jsxs)("div",{className:"control",children:[Object(m.jsxs)("button",{onClick:o,children:["Turn the power ",s?"OFF":"ON"]}),Object(m.jsxs)("h2",{children:["Volume: %",Math.round(100*n)]}),Object(m.jsx)("input",{type:"range",max:"1",min:"0",step:"0.01",value:n,onChange:a}),Object(m.jsx)("h2",{children:t})]})},y=function(){return Object(m.jsx)("button",{type:"button",className:"btn btn-danger",children:" START RECORDING"})},h=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Click on the buttons to play sound in the next loop cycle!"}),Object(m.jsx)("h6",{children:"Use the keyboard if you just want to have some fun :) - Tip - You can use the Q,W,E,A,S,D,Z,X,C keys"})]})};var O=function(){var e=o.a.useState(!0),t=Object(r.a)(e,2),n=t[0],s=t[1],a=o.a.useState(j),c=Object(r.a)(a,2),i=c[0],l=c[1],d=o.a.useState(""),p=Object(r.a)(d,2),O=p[0],g=p[1],k=o.a.useState(1),v=Object(r.a)(k,2),C=v[0],x=v[1],E=o.a.useState([]),S=Object(r.a)(E,2),N=S[0],_=S[1],w=o.a.useState([]),I=Object(r.a)(w,2),T=I[0],F=I[1],B=function(e){setTimeout((function(){e.parentElement.style.backgroundColor="#ffffff",e.parentElement.style.color="#000000"}),300)},L=function(e,t,n){var s=j.findIndex((function(t){return t.key===e})),o=j[s];o[t]=n,-1===s?console.log("no match"):l([].concat(Object(u.a)(i.slice(0,s)),[o],Object(u.a)(i.slice(s+1))))},D=function(e,t,n){-1===e?console.log("no match"):n([].concat(Object(u.a)(t.slice(0,e)),Object(u.a)(t.slice(e+1))))};return Object(m.jsxs)("div",{id:"loop_machine",children:[void i.map((function(e){return document.getElementById(e.key)})).forEach((function(e){e&&(e.volume=C)})),Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)(f,{power:n,play:function(e,t,s){if(n){var o=document.getElementById(e);if(s)L(e,"status",!s),B(o),console.log(o.currentTime),console.log(T),console.log(o.intervalNumber),o.pause(),function(e){for(var t=0;t<N.length;t++)N[t]===e&&D(t,N,_);clearInterval(e.intervalNumber)}(o);else if(g(t),function(e){n&&(e.parentElement.style.backgroundColor="#000000",e.parentElement.style.color="#ffffff")}(o),L(e,"status",!s),o.currentTime=0,_((function(e){return[].concat(Object(u.a)(e),[o])})),console.log(N),0===N.length)o.play();else{console.log("inside");var a=N[0].currentTime,c=setInterval((function(){o.play()}),8e3-1e3*a);o.intervalNumber=c,F((function(e){return[].concat(Object(u.a)(e),[c])}))}}},sounds:i}),Object(m.jsx)(b,{stopLoops:function(){s(!n),i.map((function(e){return document.getElementById(e.key)})).forEach((function(e){B(e)})),i.map((function(e){return L(e.key,"status",!1)})),_([]),T.map((function(e){return clearInterval(e)})),F([])},volume:C,power:n,handleVolumeChange:function(e){x(e.target.value)},name:O}),Object(m.jsx)(y,{})]}),Object(m.jsx)("div",{className:"wrapper-secondary",children:Object(m.jsx)(h,{})})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,s=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),o(e),a(e),c(e)}))};n(27);c.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(O,{})}),document.getElementById("root")),g()}},[[28,1,2]]]);
//# sourceMappingURL=main.99a2f1d9.chunk.js.map