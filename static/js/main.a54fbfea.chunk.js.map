{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["loopSounds","keyCode","key","id","status","url","PadKey","play","sound","handleKeydown","event","React","useEffect","document","addEventListener","className","onClick","loop","src","type","Pad","power","sounds","map","InstrumentControl","name","volume","stopLoops","handleVolumeChange","Math","round","max","min","step","value","onChange","Recording","Instructions","App","useState","setPower","setSounds","soundName","setSoundName","setVolume","playingSounds","setPlayingSounds","intervals","changeIntervals","deactivateAudio","audio","setTimeout","parentElement","style","backgroundColor","color","updateItem","newvalue","index","findIndex","x","g","console","log","slice","removeItem","state","setState","getElementById","forEach","keyPadStatus","currentTime","intervalNumber","pause","length","clearInterval","removeAudioFile","styleActiveKey","tempTime","intervalPointer","setInterval","interval","target","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a54fbfea.chunk.js","sourcesContent":["import './App.css';\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n//import Button from 'react-bootstrap/Button';\nimport { Button } from 'reactstrap';\n\n//Todo: Move this to a different json file\nconst loopSounds = [\n  {\n    keyCode: 81,\n    key: 'Q',\n    id: 'Future Beats',\n    status: false,\n    url: 'sounds/future_beats.mp3'\n  },\n  {\n    keyCode: 87,\n    key: 'W',\n    id: 'Electric Guitar',\n    status: false,\n    url: 'sounds/electric_guitar_120.mp3'\n  },\n  {\n    keyCode: 69,\n    key: 'E',\n    id: 'Groove',\n    status: false,\n    url: 'sounds/groove_120.mp3'\n  },\n  {\n    keyCode: 65,\n    key: 'A',\n    id: 'Heavy Funk',\n    status: false,\n    url: 'sounds/heavyfunk_120.mp3'\n  },\n  {\n    keyCode: 83,\n    key: 'S',\n    id: 'Maze Politics',\n    status: false,\n    url: 'sounds/mazepolitics_120.mp3'\n  },\n  {\n    keyCode: 68,\n    key: 'D',\n    id: 'Pass Groove',\n    status: false,\n    url: 'sounds/passgroove.mp3'\n  },\n  {\n    keyCode: 90,\n    key: 'Z',\n    id: 'Silent Star',\n    status: false,\n    url: 'sounds/silentstar_120.mp3'\n  },\n  {\n    keyCode: 88,\n    key: 'X',\n    id: 'Stompy Slosh',\n    status: false,\n    url: 'sounds/stompyslosh_120.mp3'\n  },\n  {\n    keyCode: 67,\n    key: 'C',\n    id: 'Stutter Breakbeats',\n    status: false,\n    url: 'sounds/stutter_breakbeats.mp3'\n  }\n];\n\nconst PadKey = ({play ,sound: {key,url, keyCode, id, status }}) => {\n        // Allowing keyboard usage for the loop machine\n      const handleKeydown = (event) => { \n\n        if(event.keyCode === keyCode){\n\n          play(key,id, status);\n        }\n\n      };\n\n      React.useEffect(() => {\n        document.addEventListener(\"keydown\",handleKeydown) \n\n      }, [key,id,status]);\n\n          return (\n            <button id={keyCode} className =\"instrument\" onClick={\n              \n              ()=> {\n                play(key, id, status)\n              } \n            \n            }>\n                  <audio loop className=\"clip\" id={key} src={url} type=\"audio/mpeg\"></audio>\n                    {key}\n              </button>\n          );\n}\n\n// Each Pad is responsible for a different instrument\nconst Pad = ({power, play, sounds}) => {\n    return(\n      <div className=\"keyboard\">\n        {power \n        ? loopSounds.map((sound) =>  <PadKey play={play} sound={sound} sounds={sounds}/>)\n        : loopSounds.map((sound) =>  <PadKey play={play} sound={{...sound, url:\"#\"}}/>)}\n      </div>\n    );\n}\n\nconst InstrumentControl = ({name, volume,power,stopLoops, handleVolumeChange}) => {\n  return(\n  <div className= \"control\">\n    <button onClick={stopLoops}>Turn the power {power ? \"OFF\" : \"ON\"}</button>\n    <h2>Volume: %{Math.round(volume * 100)}</h2>\n    <input type=\"range\" max=\"1\" min=\"0\" step=\"0.01\" value={volume} onChange={handleVolumeChange} />\n      <h2>{name}</h2>\n  </div>\n  );\n}\n\nconst Recording = () => {\n\n  return (\n\n<button type=\"button\" className=\"btn btn-danger\"> START RECORDING</button>\n  );\n}\n\nconst Instructions = () => {\n\n  return (\n    <div>\n      <h2>Click on the buttons to play sound in the next loop cycle!</h2>\n      <h6>Use the keyboard if you just want to have some fun :)</h6>\n    </div>\n  );\n}\n\n\nfunction App() {\nconst [power, setPower] = React.useState(true);\nconst [sounds, setSounds] = React.useState(loopSounds);\nconst [soundName, setSoundName] = React.useState(\"\");\nconst [volume, setVolume] = React.useState(1);\nconst [playingSounds, setPlayingSounds] = React.useState([]);\nconst [intervals,changeIntervals] = React.useState([]);\n\n// removing audio file\nfunction removeAudioFile(audio){\nfor (let index = 0; index < playingSounds.length; index++) {\n      if (playingSounds[index] === audio){\n        removeItem(index,playingSounds,setPlayingSounds);\n      }\n}\nclearInterval(audio.intervalNumber);\n}\n\nconst stopLoops = () =>{\n  setPower(power ? false : true);\n\n  const audios = sounds.map(sound => document.getElementById(sound.key));\n  audios.forEach(audio => {\n    deactivateAudio(audio);\n  });\n// Go over all sounds and make false.\n  sounds.map(sound => updateItem(sound.key,\"status\",false));\n  setPlayingSounds([]);\n  intervals.map(interval => clearInterval(interval));\n  changeIntervals([]);\n}\n\nconst handleVolumeChange = (event) => {\n  setVolume(event.target.value);\n}\n\n\nconst styleActiveKey = (audio) => {\n  if(power){\n  audio.parentElement.style.backgroundColor = \"#000000\";\n  audio.parentElement.style.color = \"#ffffff\";\n  }\n}\n\nconst deactivateAudio = (audio) => {\n  setTimeout(() => {\n    audio.parentElement.style.backgroundColor = \"#ffffff\"\n    audio.parentElement.style.color = \"#000000\"\n  }, 300)\n}\n\n\n// function which plays the audio \n  const play = (key, id, keyPadStatus) => {\n\n    if(power){\n\n      const audio = document.getElementById(key);\n      if(!keyPadStatus) {\n          setSoundName(id)\n          styleActiveKey(audio);\n          updateItem(key,\"status\",keyPadStatus ? false : true);\n          audio.currentTime = 0;\n          // This is the older player\n          setPlayingSounds(playingSounds => [...playingSounds,audio]);\n          console.log(playingSounds);\n\n            if(playingSounds.length === 0)\n            {audio.play();}\n            else{\n              //to get into here - STATUS = FALSE AND MORE THAN ONE ITEM PLAYING\n              console.log(\"inside\");\n                let tempTime = playingSounds[0].currentTime;\n              const intervalPointer = setInterval(()=>{audio.play()}, 8000 - tempTime *1000);\n              audio.intervalNumber = intervalPointer;\n              changeIntervals(intervals => [...intervals,intervalPointer]);\n            }\n           \n      }else{\n        updateItem(key,\"status\",keyPadStatus ? false : true);\n        deactivateAudio(audio);\n        console.log(audio.currentTime);\n        console.log(intervals);\n        console.log(audio.intervalNumber);\n        \n        audio.pause();\n        removeAudioFile(audio);\n        \n      }\n\n    }\n  };\n\n  // Setting the current volume for each one of the audio elements\n  const setKeyVolume = () => {\n    const audios = sounds.map(sound => document.getElementById(sound.key));\n   // console.log(\"Set Key Volume ran!\");\n    audios.forEach(audio => {\n      if(audio) {\n        audio.volume = volume;\n      }\n    }) \n  }\n\n  // setting status on/off of keypad to be true/false\nconst updateItem = (key, value, newvalue) => {\n\n  var index = loopSounds.findIndex(x => x.key === key);\n  let g = loopSounds[index]\n  g[value] = newvalue\n  if (index === -1){\n    // handle error\n    console.log('no match')\n  }\n  else\n  //  console.log(sounds);\n    setSounds([\n      ...sounds.slice(0,index),\n      g,\n      ...sounds.slice(index+1)\n    ]\n            );\n}\n\nconst removeItem = (index,state,setState) => {\n\n  if (index === -1){\n    // handle error\n    console.log('no match')\n  }\n  else\n    setState([\n      ...state.slice(0,index),\n      ...state.slice(index+1)\n    ]\n            );\n}\n\n  return (\n\n        <div id=\"loop_machine\">\n              {setKeyVolume()}\n            <div className =\"wrapper\">\n                <Pad power={power} play={play} sounds={sounds}/>\n                \n                <InstrumentControl \n                    stopLoops = {stopLoops}\n                    volume ={volume}\n                    power ={power}\n                    handleVolumeChange ={handleVolumeChange}\n                    name={soundName}/>\n\n                    <Recording />\n\n                    \n            </div>\n          <div className=\"wrapper-secondary\">\n          <Instructions />\n          </div>\n\n        </div>\n        \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n// Importing the Bootstrap CSS\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}