{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["loopSounds","keyCode","key","id","status","url","imgClass","faHeartbeat","faGuitar","faDrumstickBite","faRocket","faTv","faHandRock","faStar","faStoreSlash","faDrum","PadKey","play","sound","handleKeydown","event","React","useEffect","document","addEventListener","className","onClick","loop","src","type","icon","Pad","power","sounds","map","InstrumentControl","name","volume","stopLoops","handleVolumeChange","Math","round","max","min","step","value","onChange","Recording","Instructions","App","useState","setPower","setSounds","soundName","setSoundName","setVolume","playingSounds","setPlayingSounds","intervals","changeIntervals","getElementById","forEach","audio","deactivateAudio","updateItem","interval","clearInterval","setTimeout","parentElement","style","backgroundColor","color","newvalue","index","findIndex","x","g","console","log","slice","removeItem","state","setState","keyPadStatus","currentTime","intervalNumber","pause","length","removeAudioFile","styleActiveKey","tempTime","intervalPointer","setInterval","target","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f0760a97.chunk.js","sourcesContent":["import './App.css';\nimport React, { useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeartbeat,faGuitar,faDrumstickBite, faHandRock,faStar, faDrum, faTv, faRocket, faStoreSlash } from '@fortawesome/free-solid-svg-icons';\n\n//Todo: Move this to a different json file\nconst loopSounds = [\n  {\n    keyCode: 81,\n    key: 'Q',\n    id: 'Future Beats',\n    status: false,\n    url: 'sounds/future_beats.mp3',\n    imgClass: faHeartbeat\n  },\n  {\n    keyCode: 87,\n    key: 'W',\n    id: 'Electric Guitar',\n    status: false,\n    url: 'sounds/electric_guitar_120.mp3',\n    imgClass: faGuitar\n  },\n  {\n    keyCode: 69,\n    key: 'E',\n    id: 'Groove',\n    status: false,\n    url: 'sounds/groove_120.mp3',\n    imgClass: faDrumstickBite\n  },\n  {\n    keyCode: 65,\n    key: 'A',\n    id: 'Heavy Funk',\n    status: false,\n    url: 'sounds/heavyfunk_120.mp3',\n    imgClass: faRocket\n  },\n  {\n    keyCode: 83,\n    key: 'S',\n    id: 'Maze Politics',\n    status: false,\n    url: 'sounds/mazepolitics_120.mp3',\n    imgClass: faTv\n  },\n  {\n    keyCode: 68,\n    key: 'D',\n    id: 'Pass Groove',\n    status: false,\n    url: 'sounds/passgroove.mp3',\n    imgClass: faHandRock\n  },\n  {\n    keyCode: 90,\n    key: 'Z',\n    id: 'Silent Star',\n    status: false,\n    url: 'sounds/silentstar_120.mp3',\n    imgClass: faStar\n  },\n  {\n    keyCode: 88,\n    key: 'X',\n    id: 'Stompy Slosh',\n    status: false,\n    url: 'sounds/stompyslosh_120.mp3',\n    imgClass: faStoreSlash\n  },\n  {\n    keyCode: 67,\n    key: 'C',\n    id: 'Stutter Breakbeats',\n    status: false,\n    url: 'sounds/stutter_breakbeats.mp3',\n    imgClass: faDrum\n  }\n];\n\n{/* \nTYPE: Component\nGOAL: represents smallest piece inside the PAD - each one represnts a sound/mp3 file.\n*/}  \n\nconst PadKey = ({play ,sound: {key,url, keyCode, id, status , imgClass}}) => {\n        // Allowing keyboard usage for the loop machine\n      const handleKeydown = (event) => { \n\n        if(event.keyCode === keyCode){\n\n          play(key,id, status);\n        }\n\n      };\n\n      React.useEffect(() => {\n        document.addEventListener(\"keydown\",handleKeydown) \n\n      }, [key,id,status]);\n\n          return (\n            <button id={keyCode} className =\"instrument\" onClick={()=> { play(key, id, status)}}>\n                  <audio loop className=\"clip\" id={key} src={url} type=\"audio/mp3\"></audio>\n               \n              <FontAwesomeIcon icon={imgClass}/>\n              </button>\n          );\n}\n\n{/* \nTYPE: Component\nGOAL: Represents the pad which includes inside of it Padkeys. Each padkey represents a different sound.\n*/}  \n\nconst Pad = ({power, play, sounds}) => {\n    return(\n      <div className=\"keyboard\">\n        {power \n        ? loopSounds.map((sound) =>  <PadKey play={play} sound={sound} sounds={sounds}/>)\n        : loopSounds.map((sound) =>  <PadKey play={play} sound={{...sound, url:\"#\"}}/>)}\n      </div>\n    );\n}\n\n{/* \nTYPE: Component\nGOAL: Controls the Pad, volume, shows data and more.\n*/}  \n\n\nconst InstrumentControl = ({name, volume,power,stopLoops, handleVolumeChange}) => {\n\n  return(\n  <div className= \"control\">\n    <button onClick={stopLoops}>Turn the power {power ? \"OFF\" : \"ON\"}</button>\n    <h2>Volume: %{Math.round(volume * 100)}</h2>\n    <input type=\"range\" max=\"1\" min=\"0\" step=\"0.01\" value={volume} onChange={handleVolumeChange} />\n      <h2>{name}</h2>\n  </div>\n  );\n}\n\n{/* \nTYPE: Component\nGOAL: Infrastacture for a recording component. Is not implemented yet.\n*/}  \n\nconst Recording = () => {\n\n  return (\n\n<button type=\"button\" className=\"btn btn-danger\"> START RECORDING</button>\n  );\n}\n\n{/* \nTYPE: Component\nGOAL: Instructions on how to use Grooveo for the users.\n*/}  \n\n\nconst Instructions = () => {\n\n  return (\n    <div>\n      <h2>Click on the buttons to play sound in the next loop cycle!</h2>\n      <h6>Use the keyboard if you just want to have some fun :) - Tip - You can use the Q,W,E,A,S,D,Z,X,C keys</h6>\n    </div>\n  );\n}\n\n{/* \nTYPE: Component\nGOAL: The actual app, which includes all of the components inside of it. \n*/}  \n\n\nfunction App() {\nconst [power, setPower] = React.useState(false);\nconst [sounds, setSounds] = React.useState(loopSounds);\nconst [soundName, setSoundName] = React.useState(\"\");\nconst [volume, setVolume] = React.useState(1);\nconst [playingSounds, setPlayingSounds] = React.useState([]);\nconst [intervals,changeIntervals] = React.useState([]);\n\nuseEffect(() => {\n  stopLoops();\n}, []);\n\n\n// removing audio file\nfunction removeAudioFile(audio){\nfor (let index = 0; index < playingSounds.length; index++) {\n      if (playingSounds[index] === audio){\n        removeItem(index,playingSounds,setPlayingSounds);\n      }\n}\nclearInterval(audio.intervalNumber);\n}\n\n{/* \nTYPE: Function\nGOAL: Responsible of stoping all of the loops (Main stop button.)\n*/}  \n\nconst stopLoops = () =>{\n  setPower(power ? false : true);\n\n  const audios = sounds.map(sound => document.getElementById(sound.key));\n  audios.forEach(audio => {\n    deactivateAudio(audio);\n  });\n// Go over all sounds and make false.\n  sounds.map(sound => updateItem(sound.key,\"status\",false));\n  setPlayingSounds([]);\n  intervals.map(interval => clearInterval(interval));\n  changeIntervals([]);\n}\n\nconst handleVolumeChange = (event) => {\n  setVolume(event.target.value);\n}\n\n\nconst styleActiveKey = (audio) => {\n  if(power){\n  audio.parentElement.style.backgroundColor = \"#000000\";\n  audio.parentElement.style.color = \"#ffffff\";\n  }\n}\n\nconst deactivateAudio = (audio) => {\n  setTimeout(() => {\n    audio.parentElement.style.backgroundColor = \"#ffffff\"\n    audio.parentElement.style.color = \"#000000\"\n  }, 300)\n}\n\n\n{/* \nTYPE: Function\nGOAL: The main play function. Is called many times and is responsible for playing the padkeys.\n*/}  \n\n  const play = (key, id, keyPadStatus) => {\n\n    if(power){\n\n      const audio = document.getElementById(key);\n      if(!keyPadStatus) {\n          setSoundName(id)\n          styleActiveKey(audio);\n          updateItem(key,\"status\",keyPadStatus ? false : true);\n          audio.currentTime = 0;\n          // This is the older player\n          setPlayingSounds(playingSounds => [...playingSounds,audio]);\n          console.log(playingSounds);\n\n            if(playingSounds.length === 0)\n            {audio.play();}\n            else{\n              //to get into here - STATUS = FALSE AND MORE THAN ONE ITEM PLAYING\n              console.log(\"inside\");\n                let tempTime = playingSounds[0].currentTime;\n              const intervalPointer = setInterval(()=>{audio.play()}, 8000 - tempTime *1000);\n              audio.intervalNumber = intervalPointer;\n              changeIntervals(intervals => [...intervals,intervalPointer]);\n            }\n           \n      }else{\n        updateItem(key,\"status\",keyPadStatus ? false : true);\n        deactivateAudio(audio);\n        console.log(audio.currentTime);\n        console.log(intervals);\n        console.log(audio.intervalNumber);\n        \n        audio.pause();\n        removeAudioFile(audio);\n        \n      }\n\n    }\n  };\n\n{/* \nTYPE: Function\nGOAL: Set volume function\n*/}  \n\n  const setKeyVolume = () => {\n    const audios = sounds.map(sound => document.getElementById(sound.key));\n   // console.log(\"Set Key Volume ran!\");\n    audios.forEach(audio => {\n      if(audio) {\n        audio.volume = volume;\n      }\n    }) \n  }\n\n  // setting status on/off of keypad to be true/false\nconst updateItem = (key, value, newvalue) => {\n\n  var index = loopSounds.findIndex(x => x.key === key);\n  let g = loopSounds[index]\n  g[value] = newvalue\n  if (index === -1){\n    // handle error\n    console.log('no match')\n  }\n  else\n  //  console.log(sounds);\n    setSounds([\n      ...sounds.slice(0,index),\n      g,\n      ...sounds.slice(index+1)\n    ]\n            );\n}\n\nconst removeItem = (index,state,setState) => {\n\n  if (index === -1){\n    // handle error\n    console.log('no match')\n  }\n  else\n    setState([\n      ...state.slice(0,index),\n      ...state.slice(index+1)\n    ]\n            );\n}\n\n  return (\n\n        <div id=\"loop_machine\">\n              {setKeyVolume()}\n            <div className =\"wrapper\">\n                <Pad power={power} play={play} sounds={sounds}/>\n                \n                <InstrumentControl \n                    stopLoops = {stopLoops}\n                    volume ={volume}\n                    power ={power}\n                    handleVolumeChange ={handleVolumeChange}\n                    name={soundName}/>\n\n                    <Recording />\n\n                    \n            </div>\n          <div className=\"wrapper-secondary\">\n          <Instructions />\n          </div>\n\n        </div>\n        \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n// Importing the Bootstrap CSS\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}