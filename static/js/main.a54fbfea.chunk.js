(this.webpackJsonploop_machine=this.webpackJsonploop_machine||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var o=n(1),s=n.n(o),c=n(9),a=n.n(c),u=(n(14),n(2)),r=n(3),i=n(7),l=(n(15),n(8),n(0)),d=[{keyCode:81,key:"Q",id:"Future Beats",status:!1,url:"sounds/future_beats.mp3"},{keyCode:87,key:"W",id:"Electric Guitar",status:!1,url:"sounds/electric_guitar_120.mp3"},{keyCode:69,key:"E",id:"Groove",status:!1,url:"sounds/groove_120.mp3"},{keyCode:65,key:"A",id:"Heavy Funk",status:!1,url:"sounds/heavyfunk_120.mp3"},{keyCode:83,key:"S",id:"Maze Politics",status:!1,url:"sounds/mazepolitics_120.mp3"},{keyCode:68,key:"D",id:"Pass Groove",status:!1,url:"sounds/passgroove.mp3"},{keyCode:90,key:"Z",id:"Silent Star",status:!1,url:"sounds/silentstar_120.mp3"},{keyCode:88,key:"X",id:"Stompy Slosh",status:!1,url:"sounds/stompyslosh_120.mp3"},{keyCode:67,key:"C",id:"Stutter Breakbeats",status:!1,url:"sounds/stutter_breakbeats.mp3"}],m=function(e){var t=e.play,n=e.sound,o=n.key,c=n.url,a=n.keyCode,u=n.id,r=n.status,i=function(e){e.keyCode===a&&t(o,u,r)};return s.a.useEffect((function(){document.addEventListener("keydown",i)}),[o,u,r]),Object(l.jsxs)("button",{id:a,className:"instrument",onClick:function(){t(o,u,r)},children:[Object(l.jsx)("audio",{loop:!0,className:"clip",id:o,src:c,type:"audio/mpeg"}),o]})},p=function(e){var t=e.power,n=e.play,o=e.sounds;return Object(l.jsx)("div",{className:"keyboard",children:t?d.map((function(e){return Object(l.jsx)(m,{play:n,sound:e,sounds:o})})):d.map((function(e){return Object(l.jsx)(m,{play:n,sound:Object(i.a)(Object(i.a)({},e),{},{url:"#"})})}))})},f=function(e){var t=e.name,n=e.volume,o=e.power,s=e.stopLoops,c=e.handleVolumeChange;return Object(l.jsxs)("div",{className:"control",children:[Object(l.jsxs)("button",{onClick:s,children:["Turn the power ",o?"OFF":"ON"]}),Object(l.jsxs)("h2",{children:["Volume: %",Math.round(100*n)]}),Object(l.jsx)("input",{type:"range",max:"1",min:"0",step:"0.01",value:n,onChange:c}),Object(l.jsx)("h2",{children:t})]})},j=function(){return Object(l.jsx)("button",{type:"button",className:"btn btn-danger",children:" START RECORDING"})},b=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Click on the buttons to play sound in the next loop cycle!"}),Object(l.jsx)("h6",{children:"Use the keyboard if you just want to have some fun :)"})]})};var y=function(){var e=s.a.useState(!0),t=Object(r.a)(e,2),n=t[0],o=t[1],c=s.a.useState(d),a=Object(r.a)(c,2),i=a[0],m=a[1],y=s.a.useState(""),h=Object(r.a)(y,2),O=h[0],k=h[1],v=s.a.useState(1),g=Object(r.a)(v,2),x=g[0],C=g[1],E=s.a.useState([]),S=Object(r.a)(E,2),N=S[0],_=S[1],w=s.a.useState([]),I=Object(r.a)(w,2),T=I[0],F=I[1],B=function(e){setTimeout((function(){e.parentElement.style.backgroundColor="#ffffff",e.parentElement.style.color="#000000"}),300)},L=function(e,t,n){var o=d.findIndex((function(t){return t.key===e})),s=d[o];s[t]=n,-1===o?console.log("no match"):m([].concat(Object(u.a)(i.slice(0,o)),[s],Object(u.a)(i.slice(o+1))))},G=function(e,t,n){-1===e?console.log("no match"):n([].concat(Object(u.a)(t.slice(0,e)),Object(u.a)(t.slice(e+1))))};return Object(l.jsxs)("div",{id:"loop_machine",children:[void i.map((function(e){return document.getElementById(e.key)})).forEach((function(e){e&&(e.volume=x)})),Object(l.jsxs)("div",{className:"wrapper",children:[Object(l.jsx)(p,{power:n,play:function(e,t,o){if(n){var s=document.getElementById(e);if(o)L(e,"status",!o),B(s),console.log(s.currentTime),console.log(T),console.log(s.intervalNumber),s.pause(),function(e){for(var t=0;t<N.length;t++)N[t]===e&&G(t,N,_);clearInterval(e.intervalNumber)}(s);else if(k(t),function(e){n&&(e.parentElement.style.backgroundColor="#000000",e.parentElement.style.color="#ffffff")}(s),L(e,"status",!o),s.currentTime=0,_((function(e){return[].concat(Object(u.a)(e),[s])})),console.log(N),0===N.length)s.play();else{console.log("inside");var c=N[0].currentTime,a=setInterval((function(){s.play()}),8e3-1e3*c);s.intervalNumber=a,F((function(e){return[].concat(Object(u.a)(e),[a])}))}}},sounds:i}),Object(l.jsx)(f,{stopLoops:function(){o(!n),i.map((function(e){return document.getElementById(e.key)})).forEach((function(e){B(e)})),i.map((function(e){return L(e.key,"status",!1)})),_([]),T.map((function(e){return clearInterval(e)})),F([])},volume:x,power:n,handleVolumeChange:function(e){C(e.target.value)},name:O}),Object(l.jsx)(j,{})]}),Object(l.jsx)("div",{className:"wrapper-secondary",children:Object(l.jsx)(b,{})})]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),s(e),c(e),a(e)}))};a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root")),h()}},[[17,1,2]]]);
//# sourceMappingURL=main.a54fbfea.chunk.js.map